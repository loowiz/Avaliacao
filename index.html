<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avalia√ß√£o de Recupera√ß√£o: UC Linguagem de Programa√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f3f4f6; }

        .hidden { display: none !important; }

        .no-select {
            -webkit-user-select: none; 
            -ms-user-select: none; 
            user-select: none; 
        }

        .question-card { transition: all 0.3s ease; }
        .question-card:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }

        @keyframes pulse-red {
            0% { color: white; }
            50% { color: #ffcccc; }
            100% { color: white; }
        }
        .timer-warning {
            animation: pulse-red 1s infinite;
            font-weight: bold;
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .penalty-shake {
            animation: shake 0.5s;
            background-color: #ef4444 !important; 
        }
    </style>
</head>
<body class="min-h-screen py-8 px-4 sm:px-6 lg:px-8 no-select" oncontextmenu="return false;">

    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg relative">

        <div id="welcome-screen" class="p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-blue-700">Avalia√ß√£o de Recupera√ß√£o - Linguagem de Programa√ß√£o</h1>
                <p class="text-gray-600 mt-2 text-lg">Situa√ß√£o de Aprendizagem 3</p>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded">
                <h2 class="text-lg font-bold text-blue-800 mb-2">üëã Ol√°, estudante!</h2>
                <p class="text-gray-700">
                    Voc√™ est√° prestes a iniciar sua avalia√ß√£o. Antes de come√ßar, leia atentamente as instru√ß√µes abaixo.
                    <br><strong>Dica:</strong> Se voc√™ n√£o se sentir preparado(a), utilize os links de revis√£o abaixo e retorne a esta p√°gina em outro momento.
                </p>
            </div>

            <div class="mb-8 bg-gray-50 p-6 rounded-lg border border-gray-200">
                <h3 class="text-md font-bold text-gray-700 mb-4 uppercase tracking-wide border-b pb-2">1. Identifica√ß√£o</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="studentName" class="block text-sm font-medium text-gray-700">Nome Completo</label>
                        <input type="text" id="studentName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 border select-text" placeholder="Digite seu nome...">
                    </div>
                    <div>
                        <label for="studentClass" class="block text-sm font-medium text-gray-700">Turma</label>
                        <input type="text" id="studentClass" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 border select-text" placeholder="Ex: 1¬∫ Mecatr√¥nica">
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">

                <div class="bg-white border border-gray-200 p-5 rounded-lg shadow-sm">
                    <h3 class="text-md font-bold text-gray-800 mb-3 flex items-center">
                        üìö O que vai cair na prova?
                    </h3>
                    <ul class="text-sm text-gray-600 space-y-2 list-disc pl-4">
                        <li><strong>Arduino B√°sico:</strong> <code>setup()</code>, <code>loop()</code>, vari√°veis, condicionais (if/else).</li>
                        <li><strong>Sensores:</strong> Ultrass√¥nico (HC-SR04), Temperatura/Umidade (DHT11), Luz (LDR).</li>
                        <li><strong>Atuadores:</strong> Rel√©s, LEDs comuns e RGB.</li>
                        <li><strong>Interfaces:</strong> Teclado Matricial, Display LCD 16x2.</li>
                        <li><strong>L√≥gica:</strong> Controle de acesso, monitoramento ambiental e ilumina√ß√£o inteligente.</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 p-5 rounded-lg shadow-sm">
                    <h3 class="text-md font-bold text-red-700 mb-3 flex items-center">
                        ‚ö†Ô∏è Regras Anti-Fraude
                    </h3>
                    <ul class="text-sm text-gray-700 space-y-2">
                        <li class="flex items-start gap-2"><span class="text-red-500">‚úñ</span> <strong>N√£o saia da aba:</strong> O sistema detecta se voc√™ mudar de janela.</li>
                        <li class="flex items-start gap-2"><span class="text-red-500">‚úñ</span> <strong>N√£o copie:</strong> Copiar textos gera penalidade imediata.</li>
                        <li class="flex items-start gap-2"><span class="text-red-500">‚è≥</span> <strong>Tempo Limite:</strong> Voc√™ ter√° <strong>30 minutos</strong> corridos.</li>
                        <li class="mt-2 text-xs font-bold text-red-800 bg-red-100 p-2 rounded block text-center">
                            10 Penalidades = PROVA BLOQUEADA
                        </li>
                    </ul>
                </div>
            </div>

            <div class="mb-8 bg-white border border-gray-200 p-6 rounded-lg shadow-sm">
                <h3 class="text-md font-bold text-blue-800 mb-4 flex items-center gap-2">
                    üéì Material de Estudo (Revis√£o)
                </h3>
                <p class="text-sm text-gray-600 mb-4">Acesse os links oficiais das esta√ß√µes para revisar o conte√∫do antes de iniciar:</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                    <div>
                        <h4 class="font-bold text-gray-700 mb-2 border-b pb-1">Programa√ß√£o e L√≥gica</h4>
                        <ul class="list-disc pl-4 space-y-1 text-blue-600">
                            <li><a href="https://youtu.be/ZaGx0ll0pnU" target="_blank" class="hover:underline hover:text-blue-800 transition">Estruturas Condicionais (If/Else)</a></li>
                            <li><a href="https://youtu.be/MeAA0oX6LyE" target="_blank" class="hover:underline hover:text-blue-800 transition">Entradas Digitais (Bot√µes)</a></li>
                            <li><a href="https://youtu.be/hRtF2UCNatM" target="_blank" class="hover:underline hover:text-blue-800 transition">Sa√≠das Digitais (LEDs/Rel√©s)</a></li>
                            <li><a href="https://youtu.be/5jIXvmFP89U" target="_blank" class="hover:underline hover:text-blue-800 transition">Entradas Anal√≥gicas</a></li>
                            <li><a href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-monitor/" target="_blank" class="hover:underline hover:text-blue-800 transition">Monitor Serial</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-700 mb-2 border-b pb-1">Componentes e Sensores</h4>
                        <ul class="list-disc pl-4 space-y-1 text-blue-600">
                            <li><a href="https://youtu.be/MQlRQaOtkoM" target="_blank" class="hover:underline hover:text-blue-800 transition">Teclado de Membrana 4x4</a></li>
                            <li><a href="https://youtu.be/0yxg3Z_Gc60" target="_blank" class="hover:underline hover:text-blue-800 transition">Display LCD 16x2</a></li>
                            <li><a href="https://projecthub.arduino.cc/Isaac100/getting-started-with-the-hc-sr04-ultrasonic-sensor-7cabe1" target="_blank" class="hover:underline hover:text-blue-800 transition">Sensor Ultrass√¥nico (HC-SR04)</a></li>
                            <li><a href="https://projecthub.arduino.cc/arcaegecengiz/using-dht11-12f621" target="_blank" class="hover:underline hover:text-blue-800 transition">Sensor Temp/Umid (DHT11)</a></li>
                            <li><a href="https://projecthub.arduino.cc/mediumturkey115/ldr-sensor-with-arduino-e6cd15" target="_blank" class="hover:underline hover:text-blue-800 transition">Sensor de Luz (LDR)</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <button onclick="startExam()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg shadow-lg transform transition hover:scale-[1.01] duration-200 text-lg flex justify-center items-center gap-2">
                üöÄ Estou pronto! INICIAR AVALIA√á√ÉO
            </button>
            <p class="text-xs text-gray-400 text-center mt-2">Ao clicar, o tempo come√ßar√° a contar e as prote√ß√µes ser√£o ativadas.</p>
        </div>


        <div id="exam-screen" class="hidden relative">
            
            <div class="bg-blue-600 px-6 py-4 text-white flex flex-col md:flex-row justify-between items-center sticky top-0 z-50 shadow-md gap-4 rounded-t-xl">
                <div>
                    <h1 class="text-lg md:text-xl font-bold">Avalia√ß√£o em Andamento</h1>
                    <p class="text-blue-100 text-xs mt-1" id="student-display">Aluno: ...</p>
                </div>
                
                <div class="flex gap-4">

                    <div id="penalty-box" class="bg-red-800 px-3 py-2 rounded-lg text-center shadow-inner transition-colors duration-300 min-w-[100px]">
                        <p class="text-[10px] text-red-200 uppercase tracking-wide">Penalidades</p>
                        <div class="text-lg font-mono font-bold"><span id="penalty-display">0</span>/10</div>
                    </div>

                    <div class="bg-blue-800 px-3 py-2 rounded-lg text-center shadow-inner min-w-[100px]">
                        <p class="text-[10px] text-blue-200 uppercase tracking-wide">Tempo</p>
                        <div id="timer-display" class="text-lg font-mono font-bold">00:00</div>
                    </div>
                </div>
            </div>


            <div id="quiz-container" class="p-6 space-y-6 bg-gray-50 min-h-[500px]">

            </div>

            <div class="p-6 bg-white border-t border-gray-200 flex justify-end items-center gap-4">
                <button onclick="finishQuiz()" id="btn-finish" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg shadow transition duration-200">
                    Finalizar e Ver Nota
                </button>
                <button onclick="generatePDF()" id="btn-pdf" class="hidden bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg shadow transition duration-200 flex items-center gap-2">
                    üìÑ Baixar Comprovante (PDF)
                </button>
            </div>
            

            <div id="result-area" class="hidden p-6 bg-yellow-50 text-center border-t border-yellow-200">
                <h3 class="text-2xl font-bold text-gray-800">Sua Nota: <span id="score-display" class="text-blue-600"></span>/100</h3>
                <p class="text-gray-600 mt-2">Clique no bot√£o "Baixar Comprovante" para salvar seu recibo de nota e enviar ao professor.</p>
            </div>
        </div>
    </div>

<script>

    document.addEventListener('keydown', function(e) {
        if(
            e.keyCode === 123 || 
            (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) || 
            (e.ctrlKey && e.keyCode === 85) || 
            (e.ctrlKey && e.keyCode === 83) || 
            (e.ctrlKey && e.keyCode === 80)    
        ) {
            e.preventDefault();
            e.stopPropagation();

            if(isExamStarted && !isLocked) addPenalty("Tentativa de uso de teclas proibidas/inspe√ß√£o.");
            return false;
        }
    });

    setInterval(() => {

        if (isExamStarted && !isLocked) {
            const start = performance.now();
            debugger; 
            const end = performance.now();
            if (end - start > 100) {

                addPenalty("Ferramentas de desenvolvedor detectadas.");
            }
        }
    }, 2000);

    let isExamStarted = false;
    let isLocked = false;

    let penaltyCount = 0;
    const MAX_PENALTIES = 10;

    function addPenalty(reason) {

        if (!isExamStarted || isLocked) return;

        if (document.getElementById('btn-finish').classList.contains('hidden')) return;

        penaltyCount++;
        const display = document.getElementById('penalty-display');
        const box = document.getElementById('penalty-box');
        
        display.textContent = penaltyCount;

        box.classList.add('penalty-shake');
        setTimeout(() => box.classList.remove('penalty-shake'), 500);

        setTimeout(() => {
            alert(`‚ö†Ô∏è ATEN√á√ÉO: PENALIDADE REGISTRADA!\n\nMotivo: ${reason}\n\nVoc√™ tem ${penaltyCount}/${MAX_PENALTIES} penalidades. Ao atingir 10, a prova ser√° bloqueada.`);
        }, 100);

        if (penaltyCount >= MAX_PENALTIES) {
            lockQuiz("Limite de penalidades atingido por comportamento suspeito.");
        }
    }

    document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
            addPenalty("Sa√≠da da aba/janela ou minimiza√ß√£o do navegador.");
        }
    });

    document.addEventListener('copy', (e) => {
        if (!isExamStarted) return; 
        e.preventDefault();
        addPenalty("Tentativa de copiar conte√∫do.");
    });
    
    document.addEventListener('cut', (e) => {
        if (!isExamStarted) return;
        e.preventDefault();
        addPenalty("Tentativa de recortar conte√∫do.");
    });

    document.addEventListener('contextmenu', (e) => {
        e.preventDefault();
        return false;
    });

    function startExam() {
        try {
            const nameInput = document.getElementById('studentName');
            const turmaInput = document.getElementById('studentClass');
            
            if(!nameInput || !turmaInput) {
                alert("Erro interno: Campos de formul√°rio n√£o encontrados.");
                return;
            }

            const name = nameInput.value.trim();
            const turma = turmaInput.value.trim();

            if (!name || !turma) {
                alert("Por favor, preencha seu Nome e Turma para iniciar.");
                return;
            }

            if(!confirm("Tem certeza que deseja iniciar? O tempo come√ßar√° a contar e as penalidades por sa√≠da de tela estar√£o ativas.")) return;

            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('exam-screen').classList.remove('hidden');

            document.getElementById('student-display').textContent = `Aluno: ${name} (${turma})`;

            isExamStarted = true;
            generateQuiz();
            startTimer();

            window.scrollTo(0, 0);
        } catch (error) {
            alert("Erro ao iniciar a prova: " + error.message);
            console.error(error);
        }
    }

    let timeElapsed = 0;
    const timeLimit = 30 * 60; 
    let timerInterval;

    function startTimer() {
        const timerDisplay = document.getElementById('timer-display');
        
        timerInterval = setInterval(() => {
            if (isLocked) {
                clearInterval(timerInterval);
                return;
            }

            timeElapsed++;
            
            const minutes = Math.floor(timeElapsed / 60);
            const seconds = timeElapsed % 60;
            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            timerDisplay.textContent = formattedTime;
            
            if (timeElapsed >= (29 * 60)) {
                timerDisplay.classList.add('timer-warning');
            }

            if (timeElapsed >= timeLimit) {
                lockQuiz("Tempo de prova esgotado (30 minutos).");
                timerDisplay.textContent = "30:00 (FIM)";
            }
        }, 1000);
    }

    function lockQuiz(reason) {
        if (isLocked) return;
        isLocked = true;
        clearInterval(timerInterval);

        const inputs = document.querySelectorAll('input[type="radio"]');
        inputs.forEach(input => input.disabled = true);
        
        alert(`üö´ PROVA BLOQUEADA!\n\nMotivo: ${reason}\n\nO formul√°rio foi bloqueado para novas respostas. Finalize para gerar o relat√≥rio.`);
    }

    const _secureData = "WwogICAgeyAicSI6ICJRdWFsIGZ1u/DNvIGRvIEFyZHVpbm8gcm9kYSBhcGVuYXMgdW1hIHZleiBxdWFuZG8gYSBwbGFjYSDDqSBsaWdhZGE/IiwgIm9wdGlvbnMiOiBbImxvb3AoKSIsICJzZXR1cCgpIiwgIm1haW4oKSIsICJzdGFydCgpIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJRdWFsIGZ1u/DNvIGRvIEFyZHVpbm8gw6kgZXhlY3V0YWRhIHJlcGV0aWRhbWVudGUgZW0gY2ljbG8gaW5maW5pdG8/IiwgIm9wdGlvbnMiOiBbInNldHVwKCkiLCAicmVwZWF0KCkiLCAibG9vcCgpIiwgImN5Y2xlKCkiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlBhcmEgY29uZmlndXJhciB1bSBwaW5vIGNvbW8gc2HDrWRhIGRlIGVuZXJnaWEsIHF1YWwgY29tYW5kbyB1dGlsaXphbW9zPyIsICJvcHRpb25zIjogWyJwaW5Nb2RlKHBpbm8sIE9VVFBVVCkiLCAicGluTW9kZShwaW5vLCBJTlBVVCkiLCAiZGlnaXRhbFdyaXRlKHBpbm8sIEhJR0gpIiwgImFuYWxvZ1dyaXRlKHBpbm8sIDI1NSkiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIlF1YWwgY29tYW5kbyDDqSB1c2FkbyBwYXJhIGxlciBvIGVzdGFkbyBkZSB1bSBib3TDo28gZGlnaXRhbD8iLCAib3B0aW9ucyI6IFsiYW5hbG9nUmVhZCgpIiwgImRpZ2l0YWxXcml0ZSgpIiwgImRpZ2l0YWxSZWFkKCkiLCAicGluTW9kZSgpIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJPIHF1ZSBvIGNvbWFuZG8gJ2RlbGF5KDIwMDApJyBmYXogbm8gY8OzZGlnbz8iLCAib3B0aW9ucyI6IFsiUGF1c2EgbyBwcm9ncmFtYSBwb3IgMjAwMCBzZWd1bmRvcyIsICJQYXVzYSBvIHByb2dyYW1hIHBvciAyIHNlZ3VuZG9zIiwgIlJlaW5pY2lhIG8gQXJkdWlubyIsICJFc3BlcmEgdW0gYm90w6NvIHNlciBwcmVzc2lvbmFkbyJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiRW0gQysrLCBjb21vIGRlY2xhcmFtb3MgdW1hIHZhcmnDoXZlbCBwYXJhIGFybWF6ZW5hciBuw7ptZXJvcyBpbnRlaXJvcz8iLCAib3B0aW9ucyI6IFsiZmxvYXQiLCAiU3RyaW5nIiwgImJvb2xlYW4iLCAiaW50Il0sICJhIjogMyB9LAogICAgeyAicSI6ICJRdWFsIG8gdGlwbyBkZSB2YXJpw6F2ZWwgbWFpcyBhZGVxdWFkbyBwYXJhIGFybWF6ZW5hciBhIHRlbXBlcmF0dXJhICcyNS41Jz8iLCAib3B0aW9ucyI6IFsiaW50IiwgImNoYXIiLCAiZmxvYXQiLCAibG9uZyJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTyBxdWUgc2lnbmlmaWNhIG8gc8OtbWJvbG8gJy8vJyBubyBjw7NkaWdvIGRvIEFyZHVpbm8/IiwgIm9wdGlvbnMiOiBbIkluw61jaW8gZGUgZnWxw6NvIiwgIkRpdmlzw6NvIiwgIkNvbWVudMOhcmlvIGRlIHVtYSBsaW5oYSIsICJGaW0gZGUgaW5zdHJ1w6fDo28iXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlF1YWwgb3BlcmFkb3Igw6kgdXNhZG8gcGFyYSB2ZXJpZmljYXIgaWd1YWxkYWRlIGVtIHVtYSBjb25kacOnw6NvICdpZic/IiwgIm9wdGlvbnMiOiBbIj0iLCAiPT0iLCAiPT09IiwgIiE9Il0sICJhIjogMSB9LAogICAgeyAicSI6ICJRdWFsIG9wZXJhZG9yIGzDs2dpY28gcmVwcmVzZW50YSAnRScgKEFORCk/IiwgIm9wdGlvbnMiOiBbInx8IiwgIiEiLCAiJiYiLCAiKioiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlF1YWwgb3BlcmFkb3IgbMOzZ2ljbyByZXByZXNlbnRhICdPVScgKE9SKT8iLCAib3B0aW9ucyI6IFsiJiYiLCAifHwiLCAiPz8iLCAiISJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTyBzw61tYm9sbyAnIScgYW50ZXMgZGUgdW1hIHZhcmnDoXZlbCBib29sZWFuYSBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJDb25maXJtYXIgbyB2YWxvciIsICJJbnZlcnRlciBvIHZhbG9yIChOw4N1IGzDs2dpY28pIiwgIlRyYW5zZm9ybWFyIGVtIGludGVpcm8iLCAiQXBhZ2FyIGEgdmF1acOhdmVsIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJRdWFsIGJpYmxpb3RlY2Egw6kgZXNzZW5jaWFsIHBhcmEgdXNhciBvIERpc3BsYXkgTENEIDE2eDI/IiwgIm9wdGlvbnMiOiBbIiZsdDtLZXlwYWQuaCZndDsiLCAiJmx0O0RIVC5oJmd0OyIsICImbHQ7TGlxdWlkQ3J5c3RhbC5oJmd0OyIsICImbHQ7U2Vydm8uaCZndDsiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlBhcmEgaW5jbHVpciB1bWEgYmlibGlvdGVjYSBubyBjw7NkaWdvLCB1c2Ftb3MgYSBkaXJldGl2YToiLCAib3B0aW9ucyI6IFsiI2RlZmluZSIsICIjaW5jbHVkZSIsICJpbXBvcnQiLCAidXNpbmciXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gY29tYW5kbyAnU2VyaWFsLmJlZ2luKDk2MDApJyBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJMaWdhciBvIExDRCIsICJJbmljaWFyIGEgY29tdW5pY2HDp8OjbyBjb20gbyBjb21wdXRhZG9yIiwgIkRlZmluaXIgYSB2ZWxvY2lkYWRlIGRvIG1vdG9yIiwgIkNvbmZpZ3VyYXIgdW0gcGlubyBQV00iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlF1YWwgcG9udHVhw6fDo28gw6kgdXNhZGEgcGFyYSBmaW5hbGl6YXIgdW1hIGluc3RydcOnw6NvIGVtIEMrKz8iLCAib3B0aW9ucyI6IFsiOiIsICIuIiwgIjsiLCAiLCJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTyBxdWUgYWNvbnRlY2Ugc2UgZXNxdWVjZXJtb3MgZGUgZmVjaGFyIHVtYSBjaGF2ZSAnfScgbm8gY8OzZGlnbz8iLCAib3B0aW9ucyI6IFsiTyBjw7NkaWdvIHJvZGEgbm9ybWFsbWVudGUiLCAiRXJybyBkZSBjb21waWxhw6fDo28iLCAiTyBBcmR1aW5vIHRyYXZhIiwgIkFwZW5hcyBhIMO6bHRpbWEgZnWxw6NvIGZhbGhhIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJBIGZ1bsOnw6NvICdsY2QuY2xlYXIoKSBzeXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJEZXNsaWdhciBvIExDRCIsICJBY2VuZGVyIGEgbHV6IGRlIGZ1bmRvIiwgIkxpbXBhciB0b2RvcyBvcyBjYXJhY3RlcmVzIGRhIHRlbGEiLCAiUmVpbmljaWFyIG8gQXJkdWlubyJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTyBxdWUgYSBmdW7Dp8OjbyAnbGNkLnNldEN1cnNvcigwLCAxKScgZmF6PyIsICJvcHRpb25zIjogWyJWYWkgcGFyYSBhIGNvbHVuYSAwLCBsaW5oYSAwIiwgIlZhaSBwYXJhIGEgY29sdW5hIDAsIGxpbmhhIDEgKHNlZ3VuZGEgbGluaGEpIiwgIkVzY3JldmUgJzAnIGUgJzEnIG5hIHRlbGEiLCAiTGltcGEgYSBsaW5oYSAxIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJQYXJhIGNvbmNhdGVuYXIgKGp1bnRhcikgdGV4dG8gZW0gdW1hIFN0cmluZywgdXNhbW9zIG8gb3BlcmFkb3I6IiwgIm9wdGlvbnMiOiBbIioiLCAiLSIsICIrIiwgIiUiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIk5vIHByb2pldG8gZGEgQ2F0cmFjYSwgcXVhbCBjb21wb25lbnRlIMOpIHVzYWRvIHBhcmEgZW50cmFkYSBkZSBzZW5oYT8iLCAib3B0aW9ucyI6IFsiTERSIiwgIlNlbnNvciBVbHRyYXNzw7RuaWNvIiwgIlRlY2xhZG8gTWF0cmljaWFsIDR4NCIsICJQb3RlbmNpw7RtZXRybyJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiUXVhbCBiaWJsaW90ZWNhIGZhY2lsaXRhIG8gdXNvIGRvIHRlY2xhZG8gbWF0cmljaWFsPyIsICJvcHRpb25zIjogWyJNYXRyaXguaCIsICJLZXlwYWQuaCIsICJCdXR0b24uaCIsICJJbnB1dC5oIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJTZSBhIHNlbmhhIGNvcnJldGEgw6kgJzEyMzQnIGUgbyB1c3XDoXJpbyBkaWdpdGEgJzEyMzQnLCBxdWFsIGZ1bsOnw6NvIGNvbXBhcmEgYXMgU3RyaW5ncz8iLCAib3B0aW9ucyI6IFsidGV4dG8uY29tcGFyZSgpIiwgInRleHRvLmNoZWNrKCkiLCAidGV4dG8uZXF1YWxzKCkiLCAidGV4dG8uaXMoKSJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTm8gY8OzZGlnbyBkYSBDYXRyYWNhLCBhIHRlY2xhICcjJyBmb2kgcHJvZ3JhbWFkYSBwYXJhOiIsICJvcHRpb25zIjogWyJBcGFnYXIgYSBzZW5oYSIsICJEaWdpdGFyIG8gbsO6bWVybyB6ZXJvIiwgIkNvbmZpcm1hciAoRW50ZXIpIiwgIlJlaW5pY2lhciBvIHNpc3RlbWEiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIk5vIGPDs2RpZ28gZGEgQ2F0cmFjYSwgYSB0ZWNsYSAnKicgZm9pIHVzYWRhIHBhcmE6IiwgIm9wdGlvbnMiOiBbIkNvbmZpcm1hciIsICJDYW5jZWxhci9MaW1wYXIiLCAiTGlnYXIgbyBMRUQiLCAiRGlnaXRhciB1bWEgbGV0cmEiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gcXVlIMOpIHVtICdMQ0QgS2V5cGFkIFNoaWVsZCc/IiwgIm9wdGlvbnMiOiBbIlVtIGVzY3VkbyBkZSBwcm90ZcOnw6NvIGZpc2ljYSIsICJVbWEgcGxhY2EgcXVlIGFjb3BsYSBMQ0QgZSBib3TDtWVzIG5vIEFyZHVpbm8iLCAiVW0gdGlwbyBkZSBzZW5zb3IgZGUgdGVtcGVyYXR1cmEiLCAiVW0gc29mdHdhcmUgZGUgc2ltdWxhw6fDo28iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlBhcmEgZXhpYmlyIHVtIGFzdGVyaXNjbyAnKicgYW8gaW52w6lzIGRvIG7Dum1lcm8gZGlnaXRhZG8gbmEgc2VuaGEsIHVzYW1vczoiLCAib3B0aW9ucyI6IFsibGNkLnByaW50KCcqJykiLCAibGNkLm5vRGlzcGxheSgpIiwgImxjZC5oaWRlKCkiLCAiU2VyaWFsLnByaW50KCcqJykiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIlF1YWwgdmFyacOhdmVsIGZvaSB1c2FkYSBwYXJhIGFybWF6ZW5hciBhIHNlbmhhIGRpZ2l0YWRhPyIsICJvcHRpb25zIjogWyJpbnQiLCAiZmxvYXQiLCAiU3RyaW5nIiwgImNoYXIiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIk5vIHByb2pldG8gZGEgVHJhdmEgRWxldHJvbWFJbukuw6l0aWNhLCBvIHNpc3RlbWEgw6kgJ2JpZXN0w6F2ZWwnLiBPIHF1ZSBpc3NvIHNpZ25pZmljYT8iLCAib3B0aW9ucyI6IFsiVGVtIGRvaXMgbWljcm9jb250cm9sYWRvcmVzIiwgIkFsdGVybmEgZW50cmUgZG9pcyBlc3RhZG9zIGVzdMOhdmVpcyAoVHJhdmFkby9EZXN0cmF2YWRvKSIsICJGdW5jaW9uYSBjb20gZHVhcyBiYXRlcmlhcyIsICJTw7MgZnVuY2lvbmEgcG9yIDIgc2VndW5kb3MiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gb3BlcmFkb3IgdGVybsOhcmlvICdjb25kacOnw6NvID8gdmFsb3IxIDogdmFsb3IyJyBzdWJzdGl0dWkgcXVhbCBlc3RydXR1cmE/IiwgIm9wdGlvbnMiOiBbImZvciIsICJ3aGlsZSIsICJpZi4uLmVsc2Ugc2ltcGxlcyIsICJzd2l0Y2guLi5jYXNlIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJTZSAndHJhdmFfZGVzdHJhdmFkYScgw6kgZmFsc2UsIG8gcXVlICchdHJhdmFfZGVzdHJhdmFkYScgcmV0b3JuYT8iLCAib3B0aW9ucyI6IFsiZmFsc2UiLCAidHJ1ZSIsICJudWxsIiwgImVycm8iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlBhcmEgbGltcGFyIGEgdmFSw6F2ZWwgJ3NlbmhhX2RpZ2l0YWRhJywgYXRyaWJ1w61tb3MgYSBlbGE6IiwgIm9wdGlvbnMiOiBbIjAiLCAibnVsbCIsICJcIlwiIChzdHJpbmcgdmF6aWEpIiwgImZhbHNlIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJRdWFudG9zIHBpbm9zIGRpZ2l0YWlzIH8ubyBuZWNlc3PDoXJpb3MgcGFyYSBjb250cm9sYXIgYXMgbGluaGFzIGRlIHVtIHRlY2xhZG8gNHg0PyIsICJvcHRpb25zIjogWyIyIiwgIjQiLCAiOCIsICIxNiJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTyBtYXBlYW1lbnRvIGRhcyB0ZWNsYXMgZG8gdGVjbGFkbyBtYXRyaWNpYWwgw6kgZmVpdG8gdXNhbmRvOiIsICJvcHRpb25zIjogWyJVbSBhcnJheSBiaWRpbWVuc2lvbmFsIChtYXRyaXopIiwgIlVtYSBsaXN0YSBzaW1wbGVzIiwgIlVtYSB2YXJpw6F2ZWwgaW50IiwgIlVtIHNlbnNvciBhbmFsw7NnaWNvIl0sICJhIjogMCB9LAogICAgeyAicSI6ICJObyBwcm9qZXRvIGRhIFRyYXZhLCBvIFJlbMOpIGVtIGVzdGFkbyBISUdIIHNpZ25pZmljYToiLCAib3B0aW9ucyI6IFsiVHJhdmEgQWJlcnRhIiwgIlRyYXZhIEZlY2hhZGEgKERlc2xpZ2FkbykiLCAiQ3VydG8tY2lyY3VpdG8iLCAiTEVEIHF1ZWltYWRvIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJRdWFsIHNlbnNvciBmb2kgdXRpbGl6YWRvIHBhcmEgbyBBbGFybWUgZGUgSW50cnVzw6NvPyIsICJvcHRpb25zIjogWyJESFQxMSIsICJMRFIiLCAiSEMtU1IwNCAoVWx0cmFzc8O0bmljbykiLCAiTE0zNSJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTyBwaW5vICdUcmlnJyBkbyBzZW5zb3IgdWx0cmFzc8O0bmljbyBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJSZWNlYmVyIG8gZWNvIiwgIkVudmlhciBvIHB1bHNvIHNvbm9ybyIsICJBbGltZW50YXIgbyBzZW5zb3IiLCAiQXRlcnJhciBvIHNlbnNvciJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTyBwaW5vICdFY2hvJyBkbyBzZW5zb3IgdWx0cmFzc8O0bmljbyBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJFbnZpYXIgbyBzb20iLCAiUmVjZWJlciBvIHB1bHNvIHJlZmxldGlkbyIsICJDb25maWd1cmFyIGEgZGlzdMOibmNpYSIsICJMaWdhciBvIExFRCJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiQSB2ZWxvY2lkYWRlIGRvIHNvbSB1c2FkYSBubyBjw6FsY3VsbyBkYSBkaXN0w6JuY2lhIMOpIGFwcm94aW1hZGFtZW50ZToiLCAib3B0aW9ucyI6IFsiMzQwIG0vcyIsICIxMDAga20vaCIsICIzMDAuMDAwIGttL3MiLCAiMTAgbS9zIl0sICJhIjogMCB9LAogICAgeyAicSI6ICJQb3IgcXVlIGRpdmlkaW1vcyBvIHRlbXBvIGRlIHZpYWdlbSBkbyBzb20gcG9yIDIgbm8gY8OhbGN1bG8gZGEgZGlzdMOibmNpYT8iLCAib3B0aW9ucyI6IFsiUGFyYSBjb252ZXJ0ZXIgbWV0cm9zIGVtIGNlbnTDrW1ldHJvcyIsICJQb3JxdWUgbyBzb20gdmFpIGUgdm9sdGEiLCAiUGFyYSByZWR1emlyIG8gcnXDrWRvIiwgIsOJIHVtYSBjb25zdGFudGUgZG8gQXJkdWlubyJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiUXVhbCBmdW7Dp8OjbyBtZWRlIGEgZHVyYcOnw6NvIGRvIHB1bHNvIG5vIHBpbm8gRWNobz8iLCAib3B0aW9ucyI6IFsiZGlnaXRhbFJlYWQoKSIsICJhbmFsb2dSZWFkKCkiLCAicHVsc2VJbigpIiwgInRpbWUoKSJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiQSBmdW7Dp8OjbyAnZGVsYXlNaWNyb3NlY29uZHMoMTApJyDDqSB1c2FkYSBwYXJhOiIsICJvcHRpb25zIjogWyJQYXVzYXIgcG9yIDEwIHNlZ3VuZG9zIiwgIkdlcmFyIG8gcHVsc28gZGUgZGlzcGFybyBubyBUcmlnIiwgIkVzcGVyYXIgbyBMQ0QgbGlnYXIiLCAiUmVpbmljaWFyIG8gc2Vuc29yIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJObyBhbGFybWUsIHNlIGEgZGlzdMOibmNpYSBmb3IgbWVub3IgcXVlIG8gbGltaXRlLCBvIHF1ZSBhY29udGVjZT8iLCAib3B0aW9ucyI6IFsiTyBzaXN0ZW1hIGRlc2xpZ2EiLCAiTyBMRUQgYWNlbmRlIGUgbyBSZWzDqSBhdGl2YSIsICJPIGVyZHVpbm8gcmVpbmljaWEiLCAiTyBzZW5zb3IgcGFyYSBkZSBsZXIiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gc2Vuc29yIHVsdHJhc3PDtG5pY28gdXNhIG9uZGFzIHNvbm9yYXMgZGU6IiwgIm9wdGlvbnMiOiBbIkJhaXhhIGZyZXF1w6puY2lhIChncmF2ZXMpIiwgIkFsdGEgZnJlcXXDqm5jaWEgKGluYXVkw612ZWlzKSIsICJMdXogaW5mcmF2ZXJtZWxoYSIsICJSw6FkaW8gZnJlcXXDqm5jaWEiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gTcOzZHVsbyBkZSBSZWzDqSDDqSB1c2FkbyBubyBwcm9qZXRvIHBhcmE6IiwgIm9wdGlvbnMiOiBbIk1lZGlyIGEgZGlzdMOibmNpYSIsICJTaW11bGFyIHVtYSBzaXJlbmUgb3UgbMOibXBhZGEgZGUgYWx0YSBwb3TqbmNpYSIsICJBcm1hemVuYXIgZGFkb3MiLCAiU3Vic3RpdHVpciBvIEFyZHVpbm8iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gcXVlIGFjb250ZWNlIGNvbSBvIHJlbMOpIHF1YW5kbyBlbnZpYW1vcyB1bSBzaW5hbCBMT1cgKGVtIG3Ds2R1bG9zIGF0aXZvLWJhaXhvKT8iLCAib3B0aW9ucyI6IFsiRWxlIGRlc2xpZ2EiLCAiRWxlIGxpZ2EgKGF0aXZhKSIsICJFbGUgcXVlaW1hIiwgIk5hZGEgYWNvbnRlY2UiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIkEgdmFSw6F2ZWwgJ2xvbmcnIMOpIHVzYWRhIHBhcmEgYXJtYXplbmFyIGEgZHVyYcOnw6NvIGRvIHB1bHNvIHBvcnF1ZToiLCAib3B0aW9ucyI6IFsiw4kgdW0gbsO6bWVybyBkZWNpbWFsIiwgIsOJIHVtIHRleHRvIiwgIlBvZGUgc2VyIHVtIG7Dum1lcm8gaW50ZWlybyBtdWl0byBncmFuZGUiLCAiw4kgbmVnYXRpdm8iXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlVtIExFRCBSR0IgcG9kZSBlbWl0aXI6IiwgIm9wdGlvbnMiOiBbIkFwZW5hcyBsdXogdmVybWVsaGEiLCAiQXBlbmFzIGx1eiBicmFuY2EiLCAiVsOhcmlhcyBjb3JlcyBjb21iaW5hbmRvIFZlcm1lbGhvLCBWZXJkZSBlIEF6dWwiLCAiU29tIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJQYXJhIGNvbnRyb2xhciBhIGludGVuc2lkYWRlIGRhcyBjb3JlcyBkbyBMRUQgUkdCLCB1c2Ftb3MgcXVhbCBmdW7Dp8Ojbz8iLCAib3B0aW9ucyI6IFsiZGlnaXRhbFdyaXRlKCkiLCAiYW5hbG9nV3JpdGUoKSAoUFdNKSIsICJkaWdpdGFsUmVhZCgpIiwgInRvbmUoKSJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiUGlub3MgUFdNIG5vIEFyZHVpbm8gc8OjbyBpZGVudGlmaWNhZG9zIHBvcjoiLCAib3B0aW9ucyI6IFsiVW1hIGxldHJhICdBJyIsICJVbSBzw61tYm9sbyAnficgb3UgYSBzaWdsYSBQV00iLCAiQSBjb3IgdmVybWVsaGEiLCAiTsOjbyB0w6ptIGlkZW50aWZpY2HDp8OjbyJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiQSBjb3IgQW1hcmVsYSBubyBMRUQgUkdCIMOpIGZvcm1hZGEgbWlzdHVyYW5kbzoiLCAib3B0aW9ucyI6IFsiVmVybWVsaG8gZSBBenVsIiwgIlZlcmRlIGUgQXp1bCIsICJWZXJtZWxobyBlIFZlcmRlIiwgIkFwZW5hcyBWZXJkZSJdLCAiYSI6IDIgfSwKICAgIHsgInEiOiAiTyBxdWUgc2lnbmlmaWNhICdEZWJvdW5jZScgbm8gY29udGV4dG8gZGUgYm90w7Vlcz8iLCAib3B0aW9ucyI6IFsiRmF6ZXIgbyBib3TDo28gcHVsYXIiLCAiVMOpY25pY2EgcGFyYSBldml0YXIgbGVpdHVyYXMgZmFsc2FzL3J1w61kbyBhbyBwcmVzc2lvbmFyIiwgIkxpZ2FyIG8gYm90w6NvIG5vIDVWIiwgIlF1ZWltYXIgbyBib3TDo28iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gbW9kbyBJTlBVVF9QVUxMVVAgY29uZmlndXJhIG8gYm90w6NvIHBhcmE6IiwgIm9wdGlvbnMiOiBbIkxlciBISUdIIHF1YW5kbyBwcmVzc2lvbmFkbyIsICJMZXIgTE9XIHF1YW5kbyBwcmVzc2lvbmFkbyBlIHVzYXIgcmVzaXN0b3IgaW50ZXJmbyIsICJQcmVjaXNhciBkZSB1bSByZXNpc3RvciBleHRlcm5vIiwgIkZ1bmNpb25hciBjb21vIHNhw61kYSJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiQSBlc3RydXR1cmEgJ2VudW0nIGZvaSB1c2FkYSBubyBjw7NkaWdvIHBhcmE6IiwgIm9wdGlvbnMiOiBbIkNvbnRhciBuw7ptZXJvcyIsICJEZWZpbmlyIGVzdGFkb3Mgbm9tZWFkb3MgKExJVlJFLCBPQ1VQQURPLCBBVEVOQ0FPKSIsICJDcmlhciB1bSBsb29wIiwgIkNvbmZpZ3VyYXIgbyBMQ0QiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk9zIHZhbG9yZXMgZGUgUFdNIHZhcmlhbSBkZToiLCAib3B0aW9ucyI6IFsiMCBhIDEwMjMiLCAiMCBhIDEwMCIsICIwIGEgMjU1IiwgIi0xMjggYSAxMjciXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlNlIHVzYXJtb3MgJ2FuYWxvZ1dyaXRlKHBpbm8sIDApJywgbyBMRUQ6IiwgIm9wdGlvbnMiOiBbIkJyaWxoYSBhbyBtw6F4aW1vIiwgIlBpc2NhIiwgIkFwYWdhIiwgIk11ZGEgZGUgY29yIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJRdWFsIGEgdmFudGFnZW0gZGUgdXNhciBmdW7Dp8O1ZXMgKGNvbW8gc3RhdHVzTGl2cmUoKSkgbm8gY8OzZGlnbz8iLCAib3B0aW9ucyI6IFsiRGVpeGEgbyBjw7NkaWdvIG1haXMgbGVudG8iLCAiT3JnYW5pemEgZSBmYWNpbGl0YSBhIGxlaXR1cmEgZG8gY8OzZGlnbyIsICJHYXN0YSBtYWlzIG1lbcOzcmlhIiwgIk7Do28gdGVtIHZhbnRhZ2VtIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJPIHNlbnNvciBESFQxMSBtZWRlIHF1YWlzIGdyYW5kZXphcz8iLCAib3B0aW9ucyI6IFsiTHV6IGUgU29tIiwgIlRlbXBlcmF0dXJhIGUgVW1pZGFkZSIsICJEaXN0w6JuY2lhIGUgUHJlc2Vuw6dhIiwgIlByZXNzw6NvIGUgQWx0aXR1ZGUiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlF1YWwgbyBpbnRlcnZhbG8gbcOtbmltbyByZWNvbWVuZGFkbyBlbnRyZSBsZWl0dXJhcyBkbyBESFQxMT8iLCAib3B0aW9ucyI6IFsiMTAgbWlsaXNzZWd1bmRvcyIsICI1MDAgbWlsaXNzZWd1bmRvcyIsICIyIHNlZ3VuZG9zIiwgIjEgbWludXRvIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJBIGZ1bsOnw6NvICdpc25hbigpJyB2ZXJpZmljYToiLCAib3B0aW9ucyI6IFsiU2UgbyB2YWxvciDDqSB1bSBuw7ptZXJvIHbDoWxpZG8iLCAiU2UgbyB2YWxvciDDqSB6ZXJvIiwgIlNlIG8gc2Vuc29yIGVzdMOhIGRlc2xpZ2FkbyIsICJTZSDDqSB1bSBuw7ptZXJvIGludGVpcm8iXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIk5vIG1vbml0b3IgZGUgdGVtcGVyYXR1cmEsIG9zIHZhbG9yZXMgc8OjbyBleGliaWRvcyBlbSBxdWFsIHVuaWRhZGU/IiwgIm9wdGlvbnMiOiBbIkZhaHJlbmhlaXQiLCAiS2VsdmluIiwgIkNlbHNpdXMiLCAiVm9sdHMiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlBhcmEgZXhpYmlyIHVtYSB2YXJpw6F2ZWwgZmxvYXQgY29tIGFwZW5hcyAxIGNhc2EgZGVjaW1hbCBubyBMQ0QsIHVzYW1vczoiLCAib3B0aW9ucyI6IFsibGNkLnByaW50KHZhciwgMSkiLCAibGNkLnByaW50KHZhciwgMCkiLCAibGNkLmRlY2ltYWwodmFyKSIsICJsY2Qub25lKHZhcikiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIlNlIGEgdW1pZGFkZSB1bHRyYXBhc3NhciBvIGxpbWl0ZSBjcsOtdGljbywgbyBzaXN0ZW1hOiIsICJvcHRpb25zIjogWyJEZXNsaWdhIG8gQXJkdWlubyIsICJBY2lvbmEgdW0gUmVsw6kgKEV4YXVzdG9yKSIsICJBcGFnYSBvIExDRCIsICJUb2NhIG3DumNpY2EiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlBhcmEgbGVyIGEgdGVtcGVyYXR1cmEgZG8gREhUMTEsIHVzYW1vcyBvIGNvbWFuZG86IiwgIm9wdGlvbnMiOiBbImRodC5yZWFkKCkiLCAiZGh0LmdldFRlbXAoKSIsICJkaHQucmVhZFRlbXBlcmF0dXJlKCkiLCAiYW5hbG9nUmVhZCgpIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJPIHF1ZSDDqSAnSGlzdGVyZXNlJyBubyBjb250cm9sZSBkZSB1bWlkYWRlPyIsICJvcHRpb25zIjogWyJVbSBlcnJvIGRvIHNlbnNvciIsICJVbWEgZmFpeGEgZGUgZGlZmVyZW7Dp2EgZW50cmUgbGlnYXIgZSBkZXNsaWdhciBwYXJhIGV2aXRhciBvc2NpbGHDp8OjbyIsICJVbSB0aXBvIGRlIGNhYm8iLCAiQSB2ZWxvY2lkYWRlIGRvIGNvb2xlciJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTm8gcHJvamV0bywgbyBwaW5vIGRlIGRhZG9zIGRvIERIVDExIGZvaSBsaWdhZG8gbm8gcGlubyBkaWdpdGFsOiIsICJvcHRpb25zIjogWyIwIiwgIjEiLCAiNDAiLCAiQTAiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlNlIG8gc2Vuc29yIERIVDExIGZhbGhhciwgbyBjw7NkaWdvIGZvaSBwcm9ncmFtYWRvIHBhcmE6IiwgIm9wdGlvbnMiOiBbIlRyYXZhciIsICJFeGliaXIgJ0Vycm8gZGUgU2Vuc29yJyBubyBMQ0QiLCAiUmVpbmljaWFyIHNvemluaG8iLCAiSWdub3JhciBvIGVycm8iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIkEgYmlibGlvdGVjYSBESFQuaCBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJDb250cm9sYXIgbW90b3JlcyIsICJGYWNpbGl0YXIgYSBjb211bmljYcOnw6NvIGNvbSBzZW5zb3JlcyBESFQiLCAiTGVyIHRlY2xhZG9zIiwgIkdlcmFyIHNvbnMiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlVtaWRhZGUgQ3LDrXRpY2EgZm9pIGRlZmluaWRhIG5vIGPDs2RpZ28gY29tbzoiLCAib3B0aW9ucyI6IFsiVW1hIGNvbnN0YW50ZSBmbG9hdCIsICJVbWEgdmFyw6lhdmVsIGludCIsICJVbWEgU3RyaW5nIiwgIlVtIHBpbm8iXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIk8gcXVlIG8gY29tYW5kbyAnZGh0LmJlZ2luKCknIGZhej8iLCAib3B0aW9ucyI6IFsiTMOqIGEgdGVtcGVyYXR1cmEiLCAiSW5pY2lhbGl6YSBvIHNlbnNvciIsICJQYXJhIG8gc2Vuc29yIiwgIkNhbGlicmEgbyBzZW5zb3IiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gY29tcG9uZW50ZSBMRFIgw6kgdW0gdGlwbyBkZToiLCAib3B0aW9ucyI6IFsiTEVEIiwgIkNhcGFjaXRvciIsICJSZXNpc3RvciBxdWUgdmFyaWEgY29tIGEgbHV6IiwgIlRyYW5zaXN0b3IiXSwgImEiOiAyIH0sCiAgICB7ICJxIjogIlF1YW5kbyBhIGx1eiBpbmNpZGUgc29icmUgbyBMRFIsIHN1YSByZXNpc3TDqm5jaWE6IiwgIm9wdGlvbnMiOiBbIkF1bWVudGEiLCAiRGltaW51aSIsICJQZXJtYW5lY2UgaWd1YWwiLCAiUXVlaW1hIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJPIExEUiBkZXZlIHNlciBjb25lY3RhZG8gYSBxdWFsIHRpcG8gZGUgcGlubyBubyBBcmR1aW5vIHBhcmEgbWVkaXIgaW50ZW5zaWRhZGU/IiwgIm9wdGlvbnMiOiBbIkRpZ2l0YWwiLCAiUFdNIiwgIkFuYWzDs2dpY28gKEV4OiBBOCkiLCAiQWxpYW1lbnRhw6fDo28gYXBlbmFzIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJBIGZ1bsOnw6NvICdhbmFsb2dSZWFkKCknIHJldG9ybmEgdW0gdmFsb3IgZW50cmU6IiwgIm9wdGlvbnMiOiBbIjAgZSAyNTUiLCAiMCBlIDEwMjMiLCAiMCBlIDEiLCAiLTVWIGUgKzVWIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJQYXJhIGNvbnZlcnRlciBvIHZhbG9yIGJydXRvIGRvIExEUiAoMC0xMDIzKSBwYXJhIHBvcmNlbnRhZ2VtICgwLTEwMCksIHVzYW1vczoiLCAib3B0aW9ucyI6IFsiY29udmVydCgpIiwgIm1hcCgpIiwgInB1bHNlSW4oKSIsICJ0cmFuc2Zvcm0oKSJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiQSBmdW7Dp8OjbyAnY29uc3RyYWluKHZhbG9yLCAwLCAxMDApJyBzZXJ2ZSBwYXJhOiIsICJvcHRpb25zIjogWyJGb3LDp2FyIG8gdmFsb3IgYSBmaWNhciBlbnRyZSAwIGUgMTAwIiwgIlplcmFyIG8gdmFsb3IiLCAiTXVsdGlwbGljYXIgcG9yIDEwMCIsICJEaXZpZGlyIHBvciAxMDAiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIk5vIHByb2pldG8gZGUgSWx1bWluYcOnw6NvIEF1dG9tw6F0aWNhLCBvIHF1ZSBhY29udGVjZSBzZSBvIGFtYmllbnRlIGVzY3VyZWNlcj8iLCAib3B0aW9ucyI6IFsiT3MgcmVsw6lzIGRlc2xpZ2FtIiwgIk9zIHJlbMOpcyBsaWdhbSBncmFkYXRpdmFtZW50ZSIsICJPIExDRCBhcGFnYSIsICJPIExEUiBwYXJhIGRlIGxlciJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiUGFyYSBjb250cm9sYXIgNCByZWzDqXMsIGZvaSB1dGlsaXphZG8gbm8gY8OzZGlnbzoiLCAib3B0aW9ucyI6IFsiNCB2YXJpw6F2ZWlzIHNvbHRhcyIsICJVbSBhcnJheSAodmV0b3IpIGRlIHBpbm9zIGUgdW0gbG9vcCBmb3IiLCAiNCBBcmR1aW5vcyIsICJVbWEgbWF0cml6IGRlIExFRHMiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gcXVlIMOpIHVtICdEaXZpc29yIGRlIFRlbnPDo28nIHVzYWRvIGNvbSBvIExEUj8iLCAib3B0aW9ucyI6IFsiVW1hIGZlcnJhbWVudGEgZGUgY29ydGUiLCAiVW0gY2lyY3VpdG8gY29tIDIgcmVzaXN0b3JlcyBwYXJhIGRpdmlkaXIgYSB2b2x0YWdlbSIsICJVbSBzb2Z0d2FyZSIsICJVbWEgYmF0ZXJpYSBleHRyYSJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiU2UgYSBsZWl0dXJhIGRvIExEUiBmb3IgbXVpdG8gaW5zdMOhdmVsLCBxdWFsIHTDqWNuaWNhIGZvaSBzdWdlcmlkYSBub3MgZGVzYWZpb3M/IiwgIm9wdGlvbnMiOiBbIk3DqWRpYSBNw7N2ZWwiLCAiVHJvY2FyIG8gQXJkdWlubyIsICJVc2FyIGNvbGEgcXVlbnRlIiwgIkF1bWVudGFyIGEgdm9sdGFnZW0iXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIk5vIGPDs2RpZ28sICdtYXAodmFsb3IsIE1JTiwgTUFYLCAwLCAxMDApJyBmYXogbyBxdcqlPyIsICJvcHRpb25zIjogWyJEZXNlbmhhIHVtIG1hcGEiLCAiRXNjYWxhIG8gdmFsb3IgZGUgdW1hIGZhaXhhIHBhcmEgb3V0cmEiLCAiUHJvY3VyYSB1bSB2YWxvciIsICJBcGFnYSBhIG1lbcOzcmlhIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJPICdGZWVkYmFjayB2aXN1YWwnIG5vIHByb2pldG8gZGUgaWx1bWluYcOnw6NvIGZvaSBmZWl0byBjb206IiwgIm9wdGlvbnMiOiBbIlVtIG1vdG9yIiwgIlVtYSBzaXJlbmUiLCAiVW0gTEVEIHBpc2NhbmRvIG91IERpc3BsYXkgTENEIiwgIkFxdWVjaW1lbnRvIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJPcyBsaW1pdGVzIGRlIGx1bWlub3NpZGFkZSBwYXJhIGFjaW9uYXIgb3MgcmVsw6lzIGZvcmFtIGRlZmluaWRvcyBjb21vOiIsICJvcHRpb25zIjogWyJDb25zdGFudGVzIHBlcmNlbnR1YWlzIiwgIlZhbG9yZXMgYWxlYXTDs3Jpb3MiLCAiU3RyaW5ncyIsICJGdW7Dp8O1ZXMiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIlBhcmEgaW52ZXJ0ZXIgbyBlc3RhZG8gZGUgdW0gcGlubyBkaWdpdGFsIChUb2dnbGUpIHVzYW1vczoiLCAib3B0aW9ucyI6IFsiZGlnaXRhbFdyaXRlKHBpbm8sICFkaWdpdGFsUmVhZChwaW5vKSkiLCAiZGlnaXRhbFdyaXRlKHBpbm8sIDApIiwgImFuYWxvZ1dyaXRlKHBpbm8sIDI1NSkiLCAicGluTW9kZShwaW5vLCBPVVRQVVQpIl0sICJhIjogMCB9LAogICAgeyAicSI6ICJFbSB1bSBhbWJpZW50ZSB0b3RhbG1lbnRlIGVzY3VybywgbyB2YWxvciBsaWRvIHBlbG8gcGlubyBhbmFsw7NnaWNvIGRvIExEUiB0ZW5kZSBhIHNlcjoiLCAib3B0aW9ucyI6IFsiUHLDs3hpbW8gZG8gZXh0cmVtbyAoZGVwZW5kZW5kbyBkYSBtb250YWdlbSkiLCAiU2VtcHJlIHplcm8iLCAiQWxlYXTDs3JpbyIsICJTZW1wcmUgNTEyIl0sICJhIjogMCB9LAogICAgeyAicSI6ICJPIHF1ZSDDqSB1bSBSZWzDqT8iLCAib3B0aW9ucyI6IFsiVW0gc2Vuc29yIGRlIGx1eiIsICJVbSBpbnRlcnJ1cHRvciBlbGV0cm9tZWPDom5pY28gY29udHJvbGFkbyBlbGV0cmljYW1lbnRlIiwgIlVtIGdlcmFkb3IgZGUgZW5lcmdpYSIsICJVbSB0aXBvIGRlIG1lbcOzcmlhIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJQb3IgcXVlIHVzYW1vcyByZXNpc3RvcmVzIGVtIHPDqXJpZSBjb20gTEVEcz8iLCAib3B0aW9ucyI6IFsiUGFyYSBhdW1lbnRhciBvIGJyaWxobyIsICJQYXJhIGxpbWl0YXIgYSBjb3JyZW50ZSBlIG7Do28gcXVlaW1hciBvIExFRCIsICJQYXJhIG11ZGFyIGEgY29yIiwgIlBhcmEgaW52ZXJ0ZXIgYSBwb2xhcmlkYWRlIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJPIEFyZHVpbm8gTWVnYSwgdXNhZG8gbm9zIHByb2pldG9zLCDDqSBwcm9ncmFtYWRvIGVtIHF1YWwgbGluZ3VhZ2VtIGJhc2U/IiwgIm9wdGlvbnMiOiBbIlB5dGhvbiIsICJKYXZhIiwgIkMrKyIsICJIVE1MIl0sICJhIjogMiB9LAogICAgeyAicSI6ICJPIHF1ZSBzaWduaWZpY2EgR0NEPyIsICJvcHRpb25zIjogWyJHcmFuZGUiLCAiR3JvdW5kIChUZXJyYS9OZWdhdGl2bykiLCAiR2FuaG8iLCAiR2VyYWwiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gcXVlIMOpIFZDQyBvdSA1Vj8iLCAib3B0aW9ucyI6IFsiTyBwaW5vIGRlIGRhZG9zIiwgIkEgYWxpbWVudGHDp8OjbyBwb3NpdGl2YSIsICJPIHRlcnJhIiwgIkEgZW50cmFkYSBhbmFsw7NnaWNhIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJRdWFsIGEgZnWxw6NvIGRvICdTZXJpYWwgTW9uaXRvcicgbmEgSURFIGRvIEFyZHVpbm8/IiwgIm9wdGlvbnMiOiBbIlZlciB2w61kZW9zIiwgIkV4aWJpciBkYWRvcyBlbnZpYWRvcyBwZWxvIEFyZHVpbm8gcGFyYSBvIFBDIiwgIkRlc2VuaGFyIGdyw6FmaWNvcyAzRCIsICJDb21waWxhciBvIGPDs2RpZ28iXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlVtYSB2YXJpw6F2ZWwgJ2NvbnN0IGludCcgcG9kZSB0ZXIgc2V1IHZhbG9yIGFsdGVyYWRvIGR1cmFudGUgbyBsb29wPyIsICJvcHRpb25zIjogWyJTaW0iLCAiTsOjbywgw6kgdW1hIGNvbnN0YW50ZSIsICLDgHMgdmV6ZXMiLCAiQXBlbmFzIHNlIHJlaW5pY2lhciJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiUXVhbCBhIGRpZmVyZW7Dp2EgZW50cmUgRGlnaXRhbCBlIEFuYWzDs2dpY28/IiwgIm9wdGlvbnMiOiBbIkRpZ2l0YWwgdGVtIDIgZXN0YWRvcyAoMC8xKSwgQW5hbMOzZ2ljbyB0ZW0gdmFsb3JlcyBjb250w61udW9zIiwgIk7Do28gaMOhIGRpZmVyZW7Dp2EiLCAiQW5hbMOzZ2ljbyDDqSBtZWxob3IiLCAiRGlnaXRhbCDDqSBwYXJhIMOhdWRpbyBhcGVuYXMiXSwgImEiOiAwIH0sCiAgICB7ICJxIjogIk8gcXVlIMOpIHVtICdQcm90b2JvYXJkJz8iLCAib3B0aW9ucyI6IFsiVW1hIHBsYWNhIGRlIGNpcmN1aXRvIGltcHJlc3NvIGZpbmFsIiwgIlVtYSBwbGFjYSBkZSBlbnNhaW8gcGFyYSBtb250YWdlbSBzZW0gc29sZGEiLCAiTyBwcm9jZXNzYWRvciBkbyBBcmR1aW5vIiwgIlVtYSBiYXRlcmlhIl0sICJhIjogMSB9LAogICAgeyAicSI6ICJQYXJhIHF1ZSBzZXJ2ZSBvIGJvdMOjbyAnUmVzZXQnIG5vIEFyZHVpbm8/IiwgIm9wdGlvbnMiOiBbIkFwYWdhciBvIGPDs2RpZ28iLCAiUmVpbmljaWFyIGEgZXhlY3XDp8OjbyBkbyBwcm9ncmFtYSBkbyBpbsOtY2lvIiwgIkRlc2xpZ2FyIGEgcGxhY2EiLCAiU2FsdmFyIG8gY8OzZGlnbyJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTyBjb21hbmRvICdTZXJpYWwucHJpbnRsbigpJyBkaWZlcmUgZG8gJ1NlcmlhbC5wcmludCgpJyBwb3JxdWU6IiwgIm9wdGlvbnMiOiBbIkltcHJpbWUgY29sb3JpZG8iLCAiUHVsYSB1bWEgbGluaGEgYW8gZmluYWwiLCAiSW1wcmltZSBtYWlzIHLDoXBpZG8iLCAiSW1wcmltZSBhcGVuYXMgbsO6bWVyb3MiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIlF1YWwgYSByZXNvbHXDp8OjbyBwYWRyw6NvIGRvIGNvbnZlcnNvciBhbmFsw7NnaWNvLWRpZ2l0YWwgKEFEQykgZG8gQXJkdWlubyBNZWdhL1Vubz8iLCAib3B0aW9ucyI6IFsiOCBiaXRzICgwLTI1NSkiLCAiMTAgYml0cyAoMC0xMDIzKSIsICIxMiBiaXRzICgwLTQwOTUpIiwgIjE2IGJpdHMiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk8gc2Vuc29yIERIVDExIMOpIGRpZ2l0YWwgb3UgYW5hbMOzZ2ljbz8iLCAib3B0aW9ucyI6IFsiQW5hbMOzZ2ljbyIsICJEaWdpdGFsIChlbnZpYSBkYWRvcyBjb2RpZmljYWRvcykiLCAiTWVjw6JuaWNvIiwgIk5lbmh1bSJdLCAiYSI6IDEgfSwKICAgIHsgInEiOiAiTyBxdWUgYWNvbnRlY2Ugc2UgbGlnYXJtb3MgdW0gTEVEIGludmVydGlkbz8iLCAib3B0aW9ucyI6IFsiRWxlIHBpc2NhIiwgIkVsZSBuw6NvIGFjZW5kZSIsICJFbGUgZXhwbG9kZSIsICJFbGUgbXVkYSBkZSBjb3IiXSwgImEiOiAxIH0sCiAgICB7ICJxIjogIk5hIG1ldG9kb2xvZ2lhIGRlIFJvdGHDp8OjbyBwb3IgRXN0YcOnw7VlcywgbyBvYmpldGl2byDDqToiLCAib3B0aW9ucyI6IFsiRmljYXIgcGFyYWRvIiwgIlBhc3NhciBwb3IgZGlmZXJlbnRlcyBwb250b3MgZGUgYXByZW5kaXphZ2VtIHJlYWxpemFuZG8gdGFyZWZhcyB2YXJpYWRhcyIsICJBcGVuYXMgY29waWFyIG8gY8OzZGlnbyIsICJDb21wZXRpciBjb20gb3MgY29sZWdhcyJdLCAiYSI6IDEgfQpd";

    let questionBank = [];
    let currentQuestions = [];
    let userAnswers = {};

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function generateQuiz() {
        try {
            const decodedString = atob(_secureData);
            questionBank = JSON.parse(decodedString);
        } catch (e) {
            alert("Erro fatal: Banco de dados corrompido.");
            return;
        }

        const container = document.getElementById('quiz-container');
        container.innerHTML = '';
        userAnswers = {};

        const shuffledBank = shuffleArray([...questionBank]);
        currentQuestions = shuffledBank.slice(0, 20);

        currentQuestions.forEach((qObj, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-card bg-white p-6 rounded-lg border border-gray-200 shadow-sm';
            
            let optionsHTML = '';
            qObj.options.forEach((opt, i) => {
                optionsHTML += `
                    <label class="flex items-center space-x-3 p-3 rounded hover:bg-blue-50 cursor-pointer transition">
                        <input type="radio" name="q${index}" value="${i}" class="form-radio h-5 w-5 text-blue-600" onchange="saveAnswer(${index}, ${i})">
                        <span class="text-gray-700">${opt}</span>
                    </label>
                `;
            });

            questionDiv.innerHTML = `
                <h3 class="text-lg font-semibold text-gray-800 mb-3">${index + 1}. ${qObj.q}</h3>
                <div class="space-y-2">
                    ${optionsHTML}
                </div>
                <div id="feedback-${index}" class="mt-3 text-sm font-semibold hidden"></div>
            `;
            container.appendChild(questionDiv);
        });
    }

    function saveAnswer(questionIndex, optionIndex) {
        userAnswers[questionIndex] = optionIndex;
    }

    function finishQuiz() {
        if (!isLocked && Object.keys(userAnswers).length < 20) {
            if(!confirm("Voc√™ n√£o respondeu todas as quest√µes. Deseja finalizar mesmo assim?")) return;
        }
        
        clearInterval(timerInterval);
        isLocked = true;

        let score = 0;
        let scoreDisplay = document.getElementById('score-display');
        
        currentQuestions.forEach((q, index) => {
            const feedbackDiv = document.getElementById(`feedback-${index}`);
            feedbackDiv.classList.remove('hidden');
            
            const selected = userAnswers[index];
            const inputs = document.getElementsByName(`q${index}`);
            
            inputs.forEach(input => input.disabled = true);

            if (selected === q.a) {
                score += 5;
                feedbackDiv.textContent = "‚úÖ Correto!";
                feedbackDiv.className = "mt-3 text-sm font-semibold text-green-600";
                if (selected !== undefined) inputs[selected].parentElement.classList.add('bg-green-100', 'border', 'border-green-300');
            } else {
                feedbackDiv.textContent = `‚ùå Incorreto.`; 
                feedbackDiv.className = "mt-3 text-sm font-semibold text-red-600";
                if (selected !== undefined) inputs[selected].parentElement.classList.add('bg-red-100', 'border', 'border-red-300');
            }
        });

        scoreDisplay.textContent = score;
        document.getElementById('result-area').classList.remove('hidden');
        document.getElementById('btn-finish').classList.add('hidden');
        document.getElementById('btn-pdf').classList.remove('hidden');
        
        document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' });
    }

    async function generatePDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        const name = document.getElementById('studentName').value;
        const turma = document.getElementById('studentClass').value;
        const score = document.getElementById('score-display').textContent;
        
        const now = new Date();
        const date = now.toLocaleDateString('pt-BR');
        const time = now.toLocaleTimeString('pt-BR');

        const dadosProva = `${date}-${time}-${score}-${timeElapsed}`;
        
        let hash = 5381;
        for (let i = 0; i < dadosProva.length; i++) {
            hash = ((hash << 5) + hash) + dadosProva.charCodeAt(i);
        }
        
        const hashString = Math.abs(hash).toString(36).toUpperCase().padStart(8, 'X');
        const timeHex = timeElapsed.toString(16).toUpperCase();
        const scoreHex = parseInt(score).toString(16).toUpperCase().padStart(2, '0');
        const authCode = `AUTH-${timeHex}-${scoreHex}-${hashString}`;

        doc.setFillColor(37, 99, 235);
        doc.rect(0, 0, 210, 40, 'F');
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(22);
        doc.text("Comprovante de Realiza√ß√£o", 105, 20, null, null, "center");
        doc.setFontSize(12);
        doc.text("Avalia√ß√£o: Arduino e Rota√ß√£o por Esta√ß√µes", 105, 30, null, null, "center");

        doc.setDrawColor(200, 200, 200);
        doc.setFillColor(245, 247, 250);
        doc.roundedRect(20, 50, 170, 80, 3, 3, 'FD');

        doc.setTextColor(60, 60, 60);
        doc.setFontSize(12);
        doc.setFont("helvetica", "bold");
        doc.text("Aluno:", 30, 65);
        doc.setFont("helvetica", "normal");
        doc.text(name, 60, 65);

        doc.setFont("helvetica", "bold");
        doc.text("Turma:", 30, 75);
        doc.setFont("helvetica", "normal");
        doc.text(turma, 60, 75);

        doc.setFont("helvetica", "bold");
        doc.text("Data/Hora:", 30, 85);
        doc.setFont("helvetica", "normal");
        doc.text(`${date} √†s ${time}`, 60, 85);
        
        const timerText = document.getElementById('timer-display').textContent.replace(" (FIM)", "");
        doc.setFont("helvetica", "bold");
        doc.text("Tempo de Prova:", 30, 95);
        doc.setFont("helvetica", "normal");
        doc.text(timerText + " / 30:00", 70, 95);

        doc.setFont("helvetica", "bold");
        doc.text("Infra√ß√µes Detectadas:", 30, 105);
        
        if (penaltyCount > 0) {
            doc.setTextColor(220, 38, 38);
        } else {
            doc.setTextColor(22, 163, 74);
        }
        doc.text(`${penaltyCount} de ${MAX_PENALTIES}`, 80, 105);
        doc.setTextColor(60, 60, 60);

        doc.setFontSize(16);
        doc.setFont("helvetica", "bold");
        doc.text("Nota Final:", 30, 120);
        
        doc.setFontSize(24);
        if (parseInt(score) >= 60) {
            doc.setTextColor(22, 163, 74);
        } else {
            doc.setTextColor(220, 38, 38);
        }
        doc.text(`${score}/100`, 70, 120);

        doc.setTextColor(100, 100, 100);
        doc.setFontSize(10);
        doc.setFont("courier", "normal");
        doc.text("C√≥digo de Verifica√ß√£o:", 105, 145, null, null, "center");
        doc.setFontSize(14);
        doc.setFont("courier", "bold");
        doc.text(authCode, 105, 153, null, null, "center");

        doc.setFontSize(8);
        doc.setFont("helvetica", "normal");
        doc.setTextColor(150, 150, 150);
        doc.text("Este c√≥digo √© √∫nico e gerado matematicamente com base na data, hora, nota e tempo de prova.", 105, 165, null, null, "center");
        doc.text("Qualquer altera√ß√£o visual neste documento invalidar√° o c√≥digo de autentica√ß√£o.", 105, 170, null, null, "center");

        doc.save(`Comprovante_${name.replace(/ /g, "_")}.pdf`);
    }

</script>

</body>
</html>
